(this["webpackJsonpzen-pomodoro"]=this["webpackJsonpzen-pomodoro"]||[]).push([[0],{145:function(e,t,o){},193:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),i=o(9),l=o.n(i),r=(o(93),o(87)),c=o(22),s=o(23),u=o(25),d=o(24),m=o(1),h=o.n(m),p=o(42),g=o.n(p),f=(o(96),o(97),o(43)),E=o(2),k=function(e){Object(u.a)(o,e);var t=Object(d.a)(o);function o(){var e;Object(c.a)(this,o);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPlayPauseClick=function(){0===e.timePos&&(e.ringSound.stop(),e.onStopClick()),e.paused=!e.paused,e.paused||e.props.onTimerStarted(),e.forceUpdate()},e.onStopClick=function(){e.jumpToMode(),e.paused=!0,e.ringSound.stop(),e.forceUpdate()},e.onMouseUp=function(){e.isDragging=!1},e.onMouseDown=function(t){if(t.preventDefault(),t.touches){var o=t.touches[0].pageX;e.oldPosX=o,e.lastTurnPos=o}e.isDragging=!0},e.onMouseMove=function(t){t.preventDefault();var o=t.touches?t.touches[0].pageX:t.pageX;if(e.isDragging){var n=o-e.oldPosX;e.pixelPos-=n,e.pixelPos=Math.max(0,Math.min(e.pixelPos,e.pixelWidth)),e.timePos=Math.ceil(e.pixelPos*e.minutesWidth/e.pixelWidth*e.timeMultiplier),e.forceUpdate(),n>0&&(e.lastTurnPos=o),o-e.lastTurnPos<-e.turnSoundDist&&(e.pixelPos<e.pixelWidth&&e.turnSound.play(),e.lastTurnPos=o)}else e.lastTurnPos=o;e.oldPosX=o},e.isDragging=!1,e.oldPosX=0,e.pixelWidth=630,e.minutesWidth=25,e.timeMultiplier=6e4,e.pixelPos=e.pixelWidth,e.timePos=e.minutesWidth*e.timeMultiplier,e.isTickPlaying=!1,e.turnSoundDist=12.5,e.lastTurnPos=0,e.lastTick=Date.now(),e.paused=!0,e.mode=o.MODE_POMODORO,e.showWhatIsPomodoroChip=!0,e.showDontLockDeviceChip=!0,e.showDontLockDeviceCard=!1,e.doTick=function(){setTimeout(e.doTick,10);var t=Date.now()-e.lastTick;e.lastTick=Date.now(),e.isDragging||e.timePos<=0||e.paused?e.isTickPlaying&&(e.tickSound.stop(),e.isTickPlaying=!1):(e.isTickPlaying?e.tickSound.volume()>0&&"2"===e.props.getConfig().tickSoundConfig&&e.tickSound.volume(e.tickSound.volume()-.002):(e.tickSound&&"0"!==e.props.getConfig().tickSoundConfig&&(e.tickSound.volume(.5),e.tickSound.play()),e.isTickPlaying=!0),e.paused||(e.timePos-=t),e.timePos=Math.max(0,Math.min(e.timePos,e.minutesWidth*e.timeMultiplier)),e.pixelPos=e.timePos/e.minutesWidth*e.pixelWidth/e.timeMultiplier,e.forceUpdate(),0===e.timePos&&(e.ringSound.stop().play(),e.paused=!0,e.props.onTimerFinished(e.mode),e.forceUpdate()))},e.jumpToMode=function(){var t=function(t){e.pixelPos=e.pixelWidth*t,e.timePos=e.minutesWidth*e.timeMultiplier*t};e.mode===o.MODE_SHORT_BREAK?t(.2):e.mode===o.MODE_LONG_BREAK?t(.6):(t(1),e.mode=o.MODE_POMODORO)},e.selectMode=function(t){e.mode=t,e.onStopClick()},e.hideHelpChip=function(){e.showWhatIsPomodoroChip=!1,e.forceUpdate()},e.hideDontLockDeviceChip=function(){e.showDontLockDeviceChip=!1,e.forceUpdate()},e.doShowDontLockDeviceCard=function(){e.showDontLockDeviceChip=!1,e.showDontLockDeviceCard=!0,e.forceUpdate()},e.hideDontLockDeviceCard=function(){e.showDontLockDeviceCard=!1,e.forceUpdate()},e.sendMail=function(){window.open("mailto:jairo@jahdsoft.com")},e}return Object(s.a)(o,[{key:"componentWillMount",value:function(){this.context.onSetTitle("Zen Pomodoro")}},{key:"componentDidMount",value:function(){this.loadSounds(),this.doTick()}},{key:"loadSounds",value:function(){this.tickSound=new f.Howl({src:["sounds/pomodoro_tick.ogg","sounds/pomodoro_tick.mp3"],loop:!0,volume:.5}),this.turnSound=new f.Howl({src:["sounds/pomodoro_turn.ogg","sounds/pomodoro_turn.mp3"]}),this.ringSound=new f.Howl({src:["sounds/pomodoro_ring.ogg","sounds/pomodoro_ring.mp3"],volume:1})}},{key:"render",value:function(){var e=this;return a.a.createElement(E.Grid,{className:"root"},this.showWhatIsPomodoroChip?a.a.createElement(E.Cell,{col:12,className:"mdl-typography--text-center"},a.a.createElement(E.Chip,{className:"mdl-color--white",onClose:this.hideHelpChip},a.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Pomodoro_Technique",target:"_blank",rel:"noopener noreferrer",className:"mdl-color-text--black"},"What is the Pomodoro Technique?"))):null,this.showDontLockDeviceChip?a.a.createElement(E.Cell,{col:12,className:"mdl-typography--text-center"},a.a.createElement(E.Chip,{className:"mdl-color--white",onClose:this.hideDontLockDeviceChip},a.a.createElement("a",{href:"#",onClick:this.doShowDontLockDeviceCard,className:"mdl-color-text--black"},"Don't lock your device. Why?"))):null,this.showDontLockDeviceCard?a.a.createElement(E.Cell,{col:12},a.a.createElement(E.Card,{shadow:1,style:{margin:"auto"}},a.a.createElement(E.CardTitle,{expand:!0},a.a.createElement("h5",{style:{marginTop:"0"}},"Modern mobile operating systems will stop background JavaScript code while locked. Thus, if locked, the timer will stop running. Please don't lock your device. This issue does not occur in native builds. A native build for Android and, maybe, iOS, may be released soon, if users, like you, are interested.")),a.a.createElement(E.CardActions,{border:!0},a.a.createElement(E.Button,{colored:!0,onClick:this.hideDontLockDeviceCard},"OK"),a.a.createElement(E.Button,{colored:!0,onClick:this.sendMail},"Email me")))):null,a.a.createElement(E.Cell,{col:12,className:"main",onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onTouchMove:this.onMouseMove,onTouchEnd:this.onMouseUp},a.a.createElement("svg",{style:{display:"none"}},a.a.createElement("defs",null,a.a.createElement("path",{id:"stempath",d:"M45.263 56.325c-4.153 2.877-8.688 3.997-13.684 2.947-6.75-1.42-12.658-.133-17.343 5.274-.444.513-1.154.795-1.945.841 8.279-12.713 19.369-20.347 35.181-19.185-1.142-4.912-2.697-9.386-8.229-10.989 8.393-2.329 14.908.648 20.39 6.482 4.967-3.077 7.65-6.526 12.7-16.222 2.45 6.292 1.399 11.899-3.969 20.682 3.378 1.556 6.882 2.05 10.168.448 3.099-1.51 5.857-3.72 9.176-5.891-1.793 6.643-5.919 10.74-11.471 13.709-5.747 3.074-11.571 1.879-16.764.42l-9.355 19.685c-4.165-4.978-4.672-11.17-4.276-17.6l.219-.991-.798.39z"}))),a.a.createElement("svg",{className:"stem",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("use",{xlinkHref:"#stempath"})),a.a.createElement("div",{className:"tomato",onMouseDown:this.onMouseDown,onTouchStart:this.onMouseDown},a.a.createElement("div",{className:"timeline",style:{transform:"translateX(-".concat(this.pixelPos,"px)")}}))),a.a.createElement(E.Cell,{col:12},a.a.createElement("div",{className:"controls"},a.a.createElement(E.FABButton,{ripple:!0,className:"mdl-color--white",onClick:this.onStopClick},a.a.createElement(E.Icon,{name:"stop"})),a.a.createElement(E.FABButton,{ripple:!0,className:"mdl-color--white",style:{float:"right"},onClick:this.onPlayPauseClick},a.a.createElement(E.Icon,{name:this.paused?"play_arrow":"pause"})))),a.a.createElement(E.Cell,{col:12,className:"mdl-typography--text-center"},a.a.createElement(E.Button,{className:this.mode===o.MODE_POMODORO?"mdl-color-text--white":null,onClick:function(){return e.selectMode(o.MODE_POMODORO)},ripple:!0},"Pomodoro"),a.a.createElement(E.Button,{className:this.mode===o.MODE_SHORT_BREAK?"mdl-color-text--white":null,onClick:function(){return e.selectMode(o.MODE_SHORT_BREAK)},ripple:!0},"Short Break"),a.a.createElement(E.Button,{className:this.mode===o.MODE_LONG_BREAK?"mdl-color-text--white":null,onClick:function(){return e.selectMode(o.MODE_LONG_BREAK)},ripple:!0},"Long Break")))}}]),o}(n.Component);k.contextTypes={onSetTitle:h.a.func.isRequired},k.MODE_POMODORO=0,k.MODE_SHORT_BREAK=1,k.MODE_LONG_BREAK=2;var C=k,v=o(81),w=o(195),D=o(196),S=o(197),T=o(198),O=o(199),M=o(200),y=o(201),P=o(202),b=o(203),N=o(204),x=o(205),R=o(206),_=o(207),W=o(208),j=o(209),U=o(210),L=(o(145),function(e){Object(u.a)(o,e);var t=Object(d.a)(o);function o(){return Object(c.a)(this,o),t.apply(this,arguments)}return Object(s.a)(o,[{key:"render",value:function(){return a.a.createElement(E.Drawer,{className:"drawer"},a.a.createElement(E.Grid,{shadow:1,style:{margin:"0"}},a.a.createElement(E.Cell,{col:12},a.a.createElement("h1",null,"Zen Pomodoro")),a.a.createElement(E.Cell,{col:8},a.a.createElement("div",null,"by Jairo Honorio"),a.a.createElement("div",{className:"mdl-color-text--grey"},"version ",v.a)),a.a.createElement(E.Cell,{col:4},a.a.createElement(E.Button,{ripple:!0,onClick:this.props.handleToggleDialog},a.a.createElement(E.Icon,{name:"settings"}))),this.props.openDialog?a.a.createElement(E.Cell,{col:12},a.a.createElement(E.Grid,{shadow:1,style:{margin:"20px 0"}},a.a.createElement(E.Cell,{col:6},"Tick sound"),a.a.createElement(E.Cell,{col:6},a.a.createElement(E.RadioGroup,{name:"tickSoundConfig",value:this.props.tickSoundConfig,childContainer:"div",onChange:this.props.onTickSoundConfigChange},a.a.createElement(E.Radio,{value:"2",ripple:!0},"Starting"),a.a.createElement(E.Radio,{value:"1",ripple:!0},"On"),a.a.createElement(E.Radio,{value:"0",ripple:!0},"Off"))))):null),a.a.createElement(E.Navigation,null,a.a.createElement("a",{href:"https://github.com/jahd2602/zen-pomodoro",target:"blank"},a.a.createElement(E.Icon,{name:"code"})," Code on Github"),a.a.createElement("a",{href:"https://pe.linkedin.com/in/jairohonorio",target:"blank"},a.a.createElement(E.Icon,{name:"portrait"})," My LinkedIn"),a.a.createElement("a",{href:"mailto:jairo@jahdsoft.com",target:"blank"},a.a.createElement(E.Icon,{name:"email"})," Contact by Email")),a.a.createElement(E.Grid,{shadow:1,className:"socialContainer"},a.a.createElement(E.Cell,{col:12},a.a.createElement("h5",null,"Share via:")),a.a.createElement(E.Cell,{col:6},a.a.createElement(w.a,{url:this.props.shareUrl},a.a.createElement(D.a,{round:!0}))),a.a.createElement(E.Cell,{col:6},a.a.createElement(S.a,{url:this.props.shareUrl},a.a.createElement(T.a,{round:!0}))),a.a.createElement(E.Cell,{col:6},a.a.createElement(O.a,{url:this.props.shareUrl},a.a.createElement(M.a,{round:!0}))),a.a.createElement(E.Cell,{col:6},a.a.createElement(y.a,{url:this.props.shareUrl},a.a.createElement(P.a,{round:!0}))),a.a.createElement(E.Cell,{col:6},a.a.createElement(b.a,{url:this.props.shareUrl},a.a.createElement(N.a,{round:!0}))),a.a.createElement(E.Cell,{col:6},a.a.createElement(x.a,{url:this.props.shareUrl},a.a.createElement(R.a,{round:!0}))),a.a.createElement(E.Cell,{col:6},a.a.createElement(_.a,{url:this.props.shareUrl,media:"http://zen.jahdsoft.com/images/screenshot.png"},a.a.createElement(W.a,{round:!0}))),a.a.createElement(E.Cell,{col:6},a.a.createElement(j.a,{url:this.props.shareUrl},a.a.createElement(U.a,{round:!0})))))}}]),o}(a.a.Component)),B=function(e){Object(u.a)(o,e);var t=Object(d.a)(o);function o(e){var n;return Object(c.a)(this,o),(n=t.call(this,e)).onTickSoundConfigChange=function(e){n.setState({tickSoundConfig:e.target.value})},n.onGetConfig=function(){return{tickSoundConfig:n.state.tickSoundConfig}},n.handleToggleDialog=function(){n.setState({openDialog:!n.state.openDialog})},n.handleCloseDialog=function(){n.setState({openDialog:!1})},n.onTimerStarted=function(){""===n.state.newTaskName&&n.setState({newTaskName:"Task"})},n.onTimerFinished=function(e){var t=n.state.newTaskName;switch(e){case 1:t="(short break)";break;case 2:t="(long break)"}var o=[{taskName:t,time:Date.now()}].concat(Object(r.a)(n.state.tasks));n.setState({tasks:o}),window.localStorage.setItem("tasks",JSON.stringify(o))},n.state={openDialog:!1,tickSoundConfig:"2",tasks:JSON.parse(window.localStorage.getItem("tasks"))||[],newTaskName:""},n}return Object(s.a)(o,[{key:"getChildContext",value:function(){var e=this.context;return{onSetTitle:e.onSetTitle||g.a,onSetMeta:e.onSetMeta||g.a,onPageNotFound:e.onPageNotFound||g.a}}},{key:"render",value:function(){var e=this;return this.props.error?a.a.createElement("div",null,"ERROR"):a.a.createElement("div",null,a.a.createElement(E.Layout,{fixedDrawer:!0},a.a.createElement(E.Header,{transparent:!0}),a.a.createElement(L,{handleToggleDialog:this.handleToggleDialog,openDialog:this.state.openDialog,tickSoundConfig:this.state.tickSoundConfig,onTickSoundConfigChange:this.onTickSoundConfigChange,shareUrl:"http://zen.jahdsoft.com/"}),a.a.createElement(E.Content,null,a.a.createElement(E.Grid,null,a.a.createElement(E.Cell,{col:7,tablet:12,phone:12},a.a.createElement(C,{getConfig:this.onGetConfig,onTimerStarted:this.onTimerStarted,onTimerFinished:this.onTimerFinished})),a.a.createElement(E.Cell,{col:5,tablet:12,phone:12},a.a.createElement(E.DataTable,{className:"taskTable",rows:this.state.tasks},a.a.createElement(E.TableHeader,{name:"taskName"},a.a.createElement(E.Textfield,{className:"newTaskNameTextfield",onChange:function(t){e.setState({newTaskName:t.target.value})},value:this.state.newTaskName,label:"New task name",floatingLabel:!0})),a.a.createElement(E.TableHeader,{cellFormatter:function(e){var t=new Date,o=(t.getTime()-e)/1e3;return o<60?"<1m":o<3600?parseInt(o/60)+"m":o<=86400?parseInt(o/3600)+"h":o>86400?e.getDate()+" "+e.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ","")+(e.getFullYear()===t.getFullYear()?"":" "+e.getFullYear()):void 0},name:"time"},"Ago")))))))}}]),o}(n.Component);B.childContextTypes={onSetTitle:h.a.func.isRequired,onSetMeta:h.a.func.isRequired,onPageNotFound:h.a.func.isRequired};var A=B,I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(a.a.createElement(A,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");I?(!function(e,t){fetch(e).then((function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):H(t,e)}))}}()},81:function(e){e.exports=JSON.parse('{"a":"2019.8.0"}')},88:function(e,t,o){e.exports=o(193)},93:function(e,t,o){},96:function(e,t,o){},97:function(e,t,o){}},[[88,1,2]]]);
//# sourceMappingURL=main.8d77e24c.chunk.js.map